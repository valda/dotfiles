# タスク同期・更新コマンド (/sync-todos)

## 概要
プロジェクトのタスク管理ファイルを同期・更新し、現在の作業状況と得られた知見を記録する

## 実行タイミング
- 作業完了時
- 新しい課題や問題を発見した時
- セッション終了前
- 重要な進捗があった時

## 実行手順

### 1. TODOディレクトリの確認
```bash
# プロジェクトルートに移動してTODOディレクトリの存在確認と作成
cd {project_root}
mkdir -p docs/todo
ls -la docs/todo/
```

### 2. 既存タスクファイルの確認
```bash
# 既存のタスクファイルをリスト表示
find docs/todo -name "*.md" -type f
```

### 3. 各タスクファイルの現在状況を確認
以下のファイルが存在する場合、それぞれの内容を確認：
- `docs/todo/infrastructure-issues.md` - インフラ関連の問題
- `docs/todo/development-tasks.md` - 開発タスク
- `docs/todo/general-todos.md` - 一般的なTODO
- `docs/todo/bugs.md` - バグ報告
- その他プロジェクト固有のタスクファイル

### 4. ユーザーとの対話で更新
1. **完了したタスクの確認**
   - 「今回のセッションで完了したタスクはありますか？」
   - 完了項目を `✅ 完了` または `~~取り消し線~~` でマーク

2. **新規課題の追加**
   - 「新しく発見した問題や追加すべきタスクはありますか？」
   - 適切な優先度（🔥高、⚠️中、📝低）を設定

3. **進行中タスクの状況更新**
   - 「進行中のタスクで状況変更があるものはありますか？」
   - 進捗状況や追加情報を記録

### 5. セッション知見の記録
セッション中に得た重要な情報を記録：

#### A. 技術的知見の記録 (`docs/todo/session-learnings.md`)
```markdown
## [YYYY-MM-DD] セッション学習記録

### ✅ 成功したアプローチ
- 具体的な解決方法
- 使用したツール・ライブラリ
- 効果的だった設計パターン

### ❌ 失敗したアプローチ
- 試したが上手くいかなかった方法
- 失敗の原因分析
- 今後避けるべきポイント

### 🔍 重要な発見・気づき
- プロジェクト固有の制約や特性
- パフォーマンス改善のヒント
- 設計上の重要な判断基準
```

#### B. 試行錯誤ログの記録 (`docs/todo/debug-log.md`)
```markdown
## [YYYY-MM-DD] デバッグ・試行錯誤ログ

### 問題: [問題の概要]
**症状**:
**原因調査プロセス**:
1. 最初に疑った原因 → 結果
2. 次に試したアプローチ → 結果
3. 最終的な解決方法

**学んだこと**:
**次回の改善点**:
```

### 6. ファイル更新の実行
- 各ファイルの内容を日本語で更新
- タイムスタンプと更新者情報を記録
- **セッション知見を必ず記録すること**
- 変更履歴をコミット推奨

### 7. ナレッジ記録の促進
セッション終了時に以下を確認：
1. **「今回のセッションで学んだ重要なことはありますか？」**
2. **「失敗したアプローチや避けるべき方法はありましたか？」**
3. **「デバッグで時間がかかった問題はありましたか？」**
4. **「他のエンジニアに共有すべき知見はありますか？」**

## 出力形式
すべての出力とファイル内容は日本語で記述すること

## 注意事項
- セッション終了前に必ず実行することを推奨
- 重要な課題は必ず適切な優先度を設定
- 長期的な課題と短期的なタスクを明確に分離
- **知見・失敗・試行錯誤の記録は必須** - 将来の開発効率向上のため
- 小さな発見でも記録することで、プロジェクト固有のナレッジベースを構築
- セッション開始時は `/check-todos` コマンドと組み合わせて使用
-
